<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Waitasecond - v1.11.59</title><meta name="description" content="Documentation for Waitasecond - v1.11.59"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Waitasecond - v1.11.59</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>Waitasecond - v1.11.59</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#⏰-waitasecond" id="⏰-waitasecond" style="color: inherit; text-decoration: none;">
  <h1>⏰ Waitasecond</h1>
</a>
<!--Badges-->
<!--⚠️WARNING: This section was generated by https://github.com/hejny/batch-project-editor/blob/main/src/workflows/800-badges/badges.ts so every manual change will be overwritten.-->


<p><a href="https://github.com/hejny/waitasecond/blob/main/LICENSE"><img src="https://img.shields.io/github/license/hejny/waitasecond.svg?style=flat" alt="License of ⏰ Waitasecond"></a>
<a href="https://www.npmjs.com/package/waitasecond"><img src="https://badge.fury.io/js/waitasecond.svg" alt="NPM Version of ⏰ Waitasecond"></a>
<a href="https://packagequality.com/#?package=waitasecond"><img src="https://packagequality.com/shield/waitasecond.svg" alt="Quality of package ⏰ Waitasecond"></a>
<a href="https://snyk.io/test/github/hejny/waitasecond"><img src="https://snyk.io/test/github/hejny/waitasecond/badge.svg" alt="Known Vulnerabilities"></a>
<a href="https://github.com/hejny/waitasecond/issues"><img src="https://img.shields.io/github/issues/hejny/waitasecond.svg?style=flat" alt="Issues"></a>
<a href="https://www.cypress.io/"><img src="https://img.shields.io/badge/tested%20with-Cypress-04C38E.svg" alt="Cypress.io"></a></p>
<!--/Badges-->


<p>Waitasecond is a javascript library that makes managing <strong>async code and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promises</a></strong> simple and elegant. It provides an await-like API that can be used in the browser, worker, and node environment, making it a powerful tool for any project. Additionally, the library is fully typed, allowing developers to have complete confidence in the reliability of their code. With Waitasecond, developers can easily and reliably handle any asynchronous task with ease.</p>
<!--Wallpaper-->
<!--⚠️WARNING: This section was generated by https://github.com/hejny/batch-project-editor/blob/main/src//workflows/315-ai-generated-wallpaper/4-aiGeneratedWallpaperUseInReadme.ts so every manual change will be overwritten.-->
<p><a href="https://www.midjourney.com/app/jobs/43a3e1f3-bde0-4747-bf6b-04158e54f112"><img src="assets/ai/wallpaper/gallery/43a3e1f3-bde0-4747-bf6b-04158e54f112-0_0.png" alt="Wallpaper of ⏰ Waitasecond"></a></p>
<!--/Wallpaper-->


<a href="#🔥-install" id="🔥-install" style="color: inherit; text-decoration: none;">
  <h2>🔥 Install</h2>
</a>
<p>Install from <a href="https://www.npmjs.com/package/waitasecond">NPM</a></p>
<pre><code class="language-bash"><span class="hl-0">npm i waitasecond</span>
</code></pre>

<a href="#🕛-await-fortime-settimeout-equivalent" id="🕛-await-fortime-settimeout-equivalent" style="color: inherit; text-decoration: none;">
  <h2>🕛 Await forTime <em>(<a href="https://developer.mozilla.org/en-US/docs/Web/API/setTimeout">setTimeout</a> equivalent)</em></h2>
</a>
<p>In JavaScript, there is an elegant way how to write asynchronous code with <strong>async/await</strong> syntax construct. Every internal function and library is heading forward to be compatible with Promises and deprecating its old callback type.
But there are some <strong>relicts from <a href="http://callbackhell.com/">callback hell</a></strong> like <strong>setTimeout, requestAnimationFrame,...</strong>. Waitasecond has motivation to turn this into elegant syntax:</p>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">forTime</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;waitasecond&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><span class="hl-3">`⏳ This is logged immediately.`</span><span class="hl-0">);</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">forTime</span><span class="hl-0">(</span><span class="hl-5">500</span><span class="hl-0">);</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><span class="hl-3">`⌛ And this after 500 milliseconds.`</span><span class="hl-0">);</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">forTime</span><span class="hl-0">(</span><span class="hl-5">666</span><span class="hl-0">);</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><span class="hl-3">`😈 Wow, I have escaped from callback hell`</span><span class="hl-0">);</span>
</code></pre>
<p><a href="https://hejny.github.io/waitasecond/modules.html#forTime">📖Documentation</a>
<a href="https://github.com/hejny/waitasecond/blob/main/src/functions/forTime.ts">💻Code</a></p>

<a href="#🕧-await-forimmediate-setimmediate-equivalent" id="🕧-await-forimmediate-setimmediate-equivalent" style="color: inherit; text-decoration: none;">
  <h2>🕧 Await forImmediate <em>(<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/setImmediate">setImmediate</a> equivalent)</em></h2>
</a>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">forImmediate</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;waitasecond&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-6">async</span><span class="hl-0"> </span><span class="hl-6">function</span><span class="hl-0"> </span><span class="hl-4">doSomething</span><span class="hl-0">() {</span><br/><span class="hl-0">    </span><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><span class="hl-3">`🍏 foo`</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">forImmediate</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><span class="hl-3">`🍎 bar`</span><span class="hl-0">);</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-4">doSomething</span><span class="hl-0">();</span><br/><span class="hl-4">doSomething</span><span class="hl-0">();</span><br/><br/><span class="hl-7">// 🍏 foo</span><br/><span class="hl-7">// 🍏 foo</span><br/><span class="hl-7">// 🍎 bar</span><br/><span class="hl-7">// 🍎 bar</span><br/><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">doSomething</span><span class="hl-0">();</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">doSomething</span><span class="hl-0">();</span><br/><br/><span class="hl-7">// 🍏 foo</span><br/><span class="hl-7">// 🍎 bar</span><br/><span class="hl-7">// 🍏 foo</span><br/><span class="hl-7">// 🍎 bar</span>
</code></pre>
<p><em>Note: Despite window.setImmediate is a non-standard feature and it is not working in node, function <strong>forImmediate is working in all environments</strong></em>
<em>Note: If you want to use an equivalent of <a href="https://developer.mozilla.org/en-US/docs/Web/API/setInterval">setInterval</a>, see <a href="https://rxjs.dev/api/index/function/interval">RxJS interval</a>.</em></p>
<p><a href="https://hejny.github.io/waitasecond/modules.html#forImmediate">📖Documentation</a>
<a href="https://github.com/hejny/waitasecond/blob/main/src/functions/forImmediate.ts">💻Code</a></p>

<a href="#🕐-await-foranimationframe-requestanimationframe-equivalent" id="🕐-await-foranimationframe-requestanimationframe-equivalent" style="color: inherit; text-decoration: none;">
  <h2>🕐 Await forAnimationFrame <em>(<a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">requestAnimationFrame</a> equivalent)</em></h2>
</a>
<p>With forAnimationFrame you can write nice looking <strong>render</strong>/update/whatever <strong>loops</strong>.</p>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">forAnimationFrame</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;waitasecond&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">while</span><span class="hl-0"> (</span><br/><span class="hl-0">    </span><span class="hl-6">true</span><span class="hl-0"> </span><span class="hl-7">/* ← Normally, this would be 💩 code, but with forAnimationFrame it is a nicer syntax version of requestAnimationFrame*/</span><br/><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-8">now</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">forAnimationFrame</span><span class="hl-0">();</span><br/><br/><span class="hl-0">    </span><span class="hl-4">updateScene</span><span class="hl-0">(</span><span class="hl-2">now</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-4">renderScene</span><span class="hl-0">(</span><span class="hl-2">now</span><span class="hl-0">);</span><br/><span class="hl-0">}</span>
</code></pre>
<p><em>Note: This is working only in a browser environment.</em></p>
<p><a href="https://hejny.github.io/waitasecond/modules.html#forAnimationFrame">📖Documentation</a>
<a href="https://github.com/hejny/waitasecond/blob/main/src/functions/forAnimationFrame.ts">💻Code</a></p>

<a href="#🕜-await-forever" id="🕜-await-forever" style="color: inherit; text-decoration: none;">
  <h2>🕜 Await forEver</h2>
</a>
<p>forEver function returns a promise which never resolves or rejects. It is an elegant way to test what happened if some part of asynchronous code stuck (for example, fetch call).</p>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">forEver</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;waitasecond&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">forEver</span><span class="hl-0">();</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><span class="hl-3">`🧟 This will never ever happen.`</span><span class="hl-0">);</span>
</code></pre>
<p><a href="https://hejny.github.io/waitasecond/modules.html#forEver">📖Documentation</a>
<a href="https://github.com/hejny/waitasecond/blob/main/src/functions/forEver.ts">💻Code</a></p>

<a href="#🕑-await-fortimesynced" id="🕑-await-fortimesynced" style="color: inherit; text-decoration: none;">
  <h2>🕑 Await forTimeSynced</h2>
</a>
<p><strong>forTimeSynced</strong> is an ideal way how to do periodical ticking in an unstable environment.
For example, if you want to run a process every 10 minutes on a server, but PM2 is restarting a server unexpectedly.</p>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">forTimeSynced</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;waitasecond&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">while</span><span class="hl-0"> (</span><span class="hl-6">true</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">forTimeSynced</span><span class="hl-0">(</span><span class="hl-5">10</span><span class="hl-0"> </span><span class="hl-7">/* Minutes */</span><span class="hl-0"> * </span><span class="hl-5">60</span><span class="hl-0"> * </span><span class="hl-5">1000</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><br/><span class="hl-0">        </span><span class="hl-3">`⌛ This will be logged every 10 minutes according to computer time. So it fires for example on 12:00, 12:10, 12:20,...`</span><span class="hl-0">,</span><br/><span class="hl-0">    );</span><br/><span class="hl-0">}</span>
</code></pre>
<p><a href="https://hejny.github.io/waitasecond/modules.html#forTimeSynced">📖Documentation</a>
<a href="https://github.com/hejny/waitasecond/blob/main/src/functions/forTimeSynced.ts">💻Code</a></p>

<a href="#🕝-await-forvaluedefined" id="🕝-await-forvaluedefined" style="color: inherit; text-decoration: none;">
  <h2>🕝 Await forValueDefined</h2>
</a>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">forValueDefined</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;waitasecond&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-8">firstName</span><span class="hl-0"> = </span><span class="hl-4">forValueDefined</span><span class="hl-0">(() </span><span class="hl-6">=&gt;</span><span class="hl-0"> </span><span class="hl-2">data</span><span class="hl-0">.</span><span class="hl-2">firstName</span><span class="hl-0">);</span>
</code></pre>
<p><em>Note: This is not definitely the ideal way how to wait for things. But it can be helpful if you want to &quot;observe&quot; some mutating object which do not support it natively.</em></p>
<p><a href="https://hejny.github.io/waitasecond/modules.html#forValueDefined">📖Documentation</a>
<a href="https://github.com/hejny/waitasecond/blob/main/src/functions/forValueDefined.ts">💻Code</a></p>

<a href="#🕒-await-forimage" id="🕒-await-forimage" style="color: inherit; text-decoration: none;">
  <h2>🕒 Await forImage</h2>
</a>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">forImage</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;waitasecond&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">forImage</span><span class="hl-0">(</span><span class="hl-2">document</span><span class="hl-0">.</span><span class="hl-4">querySelector</span><span class="hl-0">(</span><span class="hl-3">&#39;.logo&#39;</span><span class="hl-0">));</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><span class="hl-3">`🖼️ Now I can be sure that the logo is loaded.`</span><span class="hl-0">);</span><br/><br/><span class="hl-7">// ...</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">renderToPdf</span><span class="hl-0">(</span><span class="hl-2">document</span><span class="hl-0">.</span><span class="hl-2">body</span><span class="hl-0">);</span><br/><span class="hl-7">// ...</span>
</code></pre>
<p><a href="https://hejny.github.io/waitasecond/modules.html#forImage">📖Documentation</a>
<a href="https://github.com/hejny/waitasecond/blob/main/src/functions/forImage.ts">💻Code</a></p>

<a href="#🕒-await-forallimagesinelement" id="🕒-await-forallimagesinelement" style="color: inherit; text-decoration: none;">
  <h2>🕒 Await forAllImagesInElement</h2>
</a>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">forAllImagesInElement</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;waitasecond&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">forAllImagesInElement</span><span class="hl-0">(</span><span class="hl-2">document</span><span class="hl-0">.</span><span class="hl-2">body</span><span class="hl-0">);</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><span class="hl-3">`🖼️ Now I can be sure that all images in body are loaded.`</span><span class="hl-0">);</span><br/><br/><span class="hl-7">// ...</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">renderToPdf</span><span class="hl-0">(</span><span class="hl-2">document</span><span class="hl-0">.</span><span class="hl-2">body</span><span class="hl-0">);</span><br/><span class="hl-7">// ...</span>
</code></pre>
<p><a href="https://hejny.github.io/waitasecond/modules.html#forAllImagesInElement">📖Documentation</a>
<a href="https://github.com/hejny/waitasecond/blob/main/src/functions/forAllImagesInElement.ts">💻Code</a></p>
<!--Contributing-->
<!--⚠️WARNING: This section was generated by https://github.com/hejny/batch-project-editor/blob/main/src/workflows/810-contributing/contributing.ts so every manual change will be overwritten.-->


<a href="#🖋️-contributing" id="🖋️-contributing" style="color: inherit; text-decoration: none;">
  <h2>🖋️ Contributing</h2>
</a>
<p>I am open to pull requests, feedback, and suggestions. Or if you like this utility, you can <a href="https://www.buymeacoffee.com/hejny">☕ buy me a coffee</a> or <a href="https://github.com/hejny/hejny/blob/main/documents/crypto.md">donate via cryptocurrencies</a>.</p>
<p>You can also ⭐ star the waitasecond package, <a href="https://github.com/hejny">follow me on GitHub</a> or <a href="https://www.pavolhejny.com/contact/">various other social networks</a>.</p>
<!--/Contributing-->

<!--Partners-->
<!--⚠️WARNING: This section was generated by https://github.com/hejny/batch-project-editor/blob/main/src/workflows/820-partners/partners.ts so every manual change will be overwritten.-->


<a href="#✨-partners" id="✨-partners" style="color: inherit; text-decoration: none;">
  <h2>✨ Partners</h2>
</a>
<a href="https://collboard.com/">
  <img src="https://collboard.fra1.cdn.digitaloceanspaces.com/assets/18.12.1/logo-small.png" alt="Collboard logo" width="50"  />
</a>
&nbsp;&nbsp;&nbsp;
<a href="https://webgpt.cz/?partner=ph&utm_medium=referral&utm_source=github-readme&utm_campaign=partner-ph">
  <img src="https://webgpt.cz/_next/static/media/webgpt-blue.e2bf1fff.png" alt="WebGPT logo" width="50"  />
</a>


<p><a href="https://www.pavolhejny.com/contact/">Become a partner</a></p>
<!--/Partners-->
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-function"><a href="modules.html#forAllImagesInElement" class="tsd-kind-icon">for<wbr/>All<wbr/>Images<wbr/>In<wbr/>Element</a></li><li class="tsd-kind-function"><a href="modules.html#forAnimationFrame" class="tsd-kind-icon">for<wbr/>Animation<wbr/>Frame</a></li><li class="tsd-kind-function"><a href="modules.html#forDOMContentLoaded" class="tsd-kind-icon">forDOMContent<wbr/>Loaded</a></li><li class="tsd-kind-function"><a href="modules.html#forDocumentReady" class="tsd-kind-icon">for<wbr/>Document<wbr/>Ready</a></li><li class="tsd-kind-function"><a href="modules.html#forEver" class="tsd-kind-icon">for<wbr/>Ever</a></li><li class="tsd-kind-function"><a href="modules.html#forImage" class="tsd-kind-icon">for<wbr/>Image</a></li><li class="tsd-kind-function"><a href="modules.html#forImmediate" class="tsd-kind-icon">for<wbr/>Immediate</a></li><li class="tsd-kind-function"><a href="modules.html#forTime" class="tsd-kind-icon">for<wbr/>Time</a></li><li class="tsd-kind-function"><a href="modules.html#forTimeSynced" class="tsd-kind-icon">for<wbr/>Time<wbr/>Synced</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#forTimeout" class="tsd-kind-icon">for<wbr/>Timeout</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#forValueDefined" class="tsd-kind-icon">for<wbr/>Value<wbr/>Defined</a></li></ul></nav></div></div></div><footer class=""><div class="container"><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="overlay"></div><script src="assets/main.js"></script></body></html>